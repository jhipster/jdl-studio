(this["webpackJsonpjdl-studio"]=this["webpackJsonpjdl-studio"]||[]).push([[0],{157:function(e,t){e.exports="data:image/png;base64,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"},158:function(e,t,n){e.exports=n.p+"static/media/logo-jhipster.335cc5d4.svg"},163:function(e,t,n){e.exports=n(383)},358:function(e,t,n){},359:function(e,t,n){},381:function(e,t,n){},382:function(e,t,n){},383:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(33),o=n.n(l),i=n(19),c=n(34),s=n(156),u=n(2),m="\nentity Region {\n\tregionName String\n}\n\nentity Country {\n\tcountryName String\n}\n\n// an ignored comment\n/** not an ignored comment */\nentity Location {\n\tstreetAddress String,\n\tpostalCode String,\n\tcity String,\n\tstateProvince String\n}\n\nentity Department {\n\tdepartmentName String required\n}\n\n/**\n * Task entity.\n * @author The JHipster team.\n */\nentity Task {\n\ttitle String,\n\tdescription String\n}\n\n/**\n * The Employee entity.\n */\nentity Employee {\n\t/**\n\t* The firstname attribute.\n\t*/\n\tfirstName String,\n\tlastName String,\n\temail String,\n\tphoneNumber String,\n\thireDate Instant,\n\tsalary Long,\n\tcommissionPct Long\n}\n\nentity Job {\n\tjobTitle String,\n\tminSalary Long,\n\tmaxSalary Long\n}\n\nentity JobHistory {\n\tstartDate Instant,\n\tendDate Instant,\n\tlanguage Language\n}\n\nenum Language {\n    FRENCH, ENGLISH, SPANISH\n}\n\nrelationship OneToOne {\n\tCountry{region} to Region\n}\n\nrelationship OneToOne {\n\tLocation{country} to Country\n}\n\nrelationship OneToOne {\n\tDepartment{location} to Location\n}\n\nrelationship ManyToMany {\n\tJob{task(title)} to Task{job}\n}\n\n// defining multiple OneToMany relationships with comments\nrelationship OneToMany {\n\tEmployee to Job{employee},\n\t/**\n\t* A relationship\n\t*/\n\tDepartment to\n\t/**\n\t* Another side of the same relationship\n\t*/\n\tEmployee{department}\n}\n\nrelationship ManyToOne {\n\tEmployee{manager} to Employee\n}\n\n// defining multiple oneToOne relationships\nrelationship OneToOne {\n\tJobHistory{job} to Job,\n\tJobHistory{department} to Department,\n\tJobHistory{employee} to Employee\n}\n\n// Set pagination options\npaginate JobHistory, Employee with infinite-scroll\npaginate Job with pagination\n\n// Use Data Transfer Objects (DTO)\n// dto * with mapstruct\n\n// Set service options to all except few\nservice all with serviceImpl except Employee, Job\n\n// Set an angular suffix\n// angularSuffix * with mySuffix\n",d=[{key:"default sample",val:m},{key:"simple monolith",val:"\napplication {\n  config {\n    baseName myApp,\n    applicationType monolith,\n    packageName com.myapp,\n    authenticationType jwt,\n    prodDatabaseType mysql,\n    clientFramework angular\n  }\n  entities *\n}\n\nentity A {}\n\nentity B {}\n\nrelationship OneToMany {\n  Foo to Bar\n}\n    "},{key:"simple microservice",val:"\napplication {\n  config {\n    baseName myApp,\n    applicationType gateway,\n    packageName com.myapp,\n    authenticationType jwt,\n    prodDatabaseType mysql,\n    clientFramework react\n  }\n  entities *\n}\n\napplication {\n  config {\n    baseName myApp1,\n    applicationType microservice,\n    packageName com.myapp,\n    authenticationType jwt,\n    prodDatabaseType mysql,\n  }\n  entities A, B\n}\n\napplication {\n  config {\n    baseName myApp2,\n    applicationType microservice,\n    packageName com.myapp,\n    authenticationType jwt,\n    prodDatabaseType mysql,\n  }\n  entities C\n}\n\nentity A {}\n\nentity B {}\n\nentity C {}\n\nentity D {}\n\nrelationship OneToMany {\n  A to B\n}\n    "}],p="studio/SET_CODE",h="studio/SET_ERROR",f="studio/SET_STORAGE_STAT",g="studio/SET_CANVAS_MODE",E="studio/SET_SIDEBAR",v="studio/TOGGLE_THEME",b="studio/TOGGLE_RANKER",y="studio/TOGGLE_DIRECTION",k={lineMarkerTop:-35,hasError:!1,errorTooltip:""},w="jdlstudio.lastSource",j="jdlstudio.lightMode",O=x(m),N=["tight-tree","longest-path"],T=["down","right"],L={loading:!1,code:O.read(),error:k,isStorageReadOnly:O.isReadonly,isCanvasMode:!1,sidebarVisible:!1,isLightMode:"true"===localStorage[j],sidebarId:"",ranker:N[0],direction:T[0]},D=function(e){return O.save(e),{type:p,data:e}},S=function(e){return{type:f,data:e}};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{read:function(){return localStorage[w]||e},save:function(e){localStorage[w]=e},isReadonly:!1}}function M(e){return 0===e?1:0}var C=n(17),J=n.n(C),A=n(45),I=function(){window.location.href="/"},z=function(){window.location.href="/design-entities"},R=function(e){var t=document.getElementById("canvas").toDataURL("image/png");e.currentTarget.href=t,ga("send","event","JDL Image","download","JDL Image download"),ga("jdlTracker.send","event","JDL Image","download","JDL Image download")},W=function(e){var t,n=e.keyCode,a=e.metaKey,r=e.ctrlKey;if(83===n&&(navigator.platform.match("Mac")?a:r))return e.preventDefault(),null===(t=document.getElementById("saveTextbutton"))||void 0===t||t.click(),!1},B=function(e){var t=document.getElementById("saveTextbutton");t&&(t.download=e+".jdl");var n=document.getElementById("savebutton");n&&(n.download=e+".png")},F="jhOnline/SET_JDL",P="jhOnline/SET_AUTH",G="jhOnline/SET_JDL_META",U="jhOnline/SET_LOADING",Y={insideJhOnline:function(){return!window.location.href.includes("www.jhipster.tech/jdl-studio");return window.location.href.includes("localhost:8080/jdl-studio/")}(),authenticated:!1,username:"",jdlId:"",jdls:[],startLoadingFlag:!1};var Z=function(e){return{type:U,data:e}},q=function(e){return{type:F,data:e}},V=function(e){return{type:G,data:e}},H=function(e,t){return{type:P,data:{authenticated:e,username:t}}},X=function(){return function(){var e=Object(A.a)(J.a.mark((function e(t){var n,a,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=_())){e.next=19;break}return e.prev=2,e.next=5,t(Z(!1));case 5:return e.next=7,fetch("".concat("","/api/jdl-metadata"),n);case 7:return a=e.sent,e.next=10,a.json();case 10:r=e.sent,a.ok?t(V(r)):ee("".concat(a.statusText,": ").concat(r.detail),t),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),ee(e.t0,t);case 17:e.next=20;break;case 19:console.log("Auth token not found");case 20:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){location.hash=e?"/view/"+e:"/"};function K(){var e,t=location.hash;return t&&(t.includes("#/view/")||t.includes("#!/view/"))?(e=function(e){var t=e.split("/");return t[t.indexOf("view")+1]}(t),decodeURIComponent(e.replace(/\+/g," "))):""}function _(){var e=JSON.parse(localStorage.getItem("jhi-authenticationtoken")||sessionStorage.getItem("jhi-authenticationtoken")||"null");return e?{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}:null}function $(e,t){console.error("Cannot get authentication token:",e),t(H(!1,""))}function ee(e,t){console.error("Error fetching JDL metadata:",e),t(V([]))}function te(e,t){console.error("Error fetching JDL:",e),t(Z(!1))}function ne(e,t){console.error("Error updating JDL:",e),t(Z(!1))}var ae=Object(c.c)({studio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(u.a)(Object(u.a)({},e),{},{code:t.data});case h:return Object(u.a)(Object(u.a)({},e),{},{error:t.data});case f:return Object(u.a)(Object(u.a)({},e),{},{isStorageReadOnly:t.data});case g:return Object(u.a)(Object(u.a)({},e),{},{isCanvasMode:t.data});case b:return Object(u.a)(Object(u.a)({},e),{},{ranker:N[M(N.indexOf(e.ranker))]});case y:return Object(u.a)(Object(u.a)({},e),{},{direction:T[M(T.indexOf(e.direction))]});case v:return localStorage[j]=!e.isLightMode,Object(u.a)(Object(u.a)({},e),{},{isLightMode:!e.isLightMode});case E:return Object(u.a)(Object(u.a)({},e),{},{sidebarVisible:!e.sidebarId||e.sidebarId!==t.data,sidebarId:e.sidebarId!==t.data?t.data:""});default:return e}},jhOnline:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(u.a)(Object(u.a)({},e),t.data);case U:return Object(u.a)(Object(u.a)({},e),{},{startLoadingFlag:t.data});case F:return Object(u.a)(Object(u.a)({},e),{},{jdlId:t.data,startLoadingFlag:!1});case G:return Object(u.a)(Object(u.a)({},e),{},{jdls:t.data,startLoadingFlag:!1});default:return e}}}),re=Object(c.a)(s.a),le=Object(c.d)(ae,re),oe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"JDL Reference"),r.a.createElement("h2",null,"Application Declaration"),r.a.createElement("hr",null),r.a.createElement("div",{className:"highlighter-rouge"},r.a.createElement("code",{className:"highlight"},r.a.createElement("pre",null,"application { ",r.a.createElement("br",null),"\xa0\xa0config { ",r.a.createElement("br",null),"\xa0\xa0\xa0\xa0<option name> <option value>",r.a.createElement("br",null),"\xa0\xa0}",r.a.createElement("br",null),"\xa0\xa0[entities <application entity list>]",r.a.createElement("br",null),"\xa0\xa0[<options>]",r.a.createElement("br",null),"}",r.a.createElement("br",null)))),r.a.createElement("ul",{className:"options"},r.a.createElement("li",null,r.a.createElement("p",null,"Application configuration keys/values are specified under config (which must be inside application)")),r.a.createElement("li",null,r.a.createElement("p",null,"There can be 0, 1 or any application option as you want (provided they are valid)")),r.a.createElement("li",null,r.a.createElement("p",null,"Entities that will be generated inside the application are listed via entities, this is the recommended way to generate entities in applications.")),r.a.createElement("li",null,r.a.createElement("p",null,"The ",r.a.createElement("kbd",null,"entities")," keyword is optional: you can omit it, but every entity in the JDL file will be generated inside the application"))),r.a.createElement("p",null,"Full documentation with possible options can be found"," ",r.a.createElement("a",{href:"https://www.jhipster.tech/jdl/applications",target:"_blank",rel:"noopener noreferrer"},"here")),r.a.createElement("h2",null,"Entity Declaration"),r.a.createElement("hr",null),r.a.createElement("div",{className:"highlighter-rouge"},r.a.createElement("code",{className:"highlight"},r.a.createElement("pre",null,"entity <entity name> { ",r.a.createElement("br",null),"\xa0\xa0<field name> <type>[<validation>*]"," ",r.a.createElement("br",null),"}"))),r.a.createElement("ul",{className:"options"},r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<entity name>")," is the name of the entity,")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<field name>")," the name of one field of the entity,")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<type>")," the JHipster supported type of the field,")),r.a.createElement("li",null,r.a.createElement("p",null,"and as an option"," ",r.a.createElement("code",{className:"highlighter-rouge"},"<validation>")," the validations for the field."))),r.a.createElement("p",null,"Full documentation with possible options can be found here"," ",r.a.createElement("a",{href:"https://www.jhipster.tech/jdl/entities-fields",target:"_blank",rel:"noopener noreferrer"},"here")),r.a.createElement("p",null,"The possible types and validations are those described"," ",r.a.createElement("a",{href:"https://www.jhipster.tech/jdl/entities-fields#field-types-and-validations",target:"_blank",rel:"noopener noreferrer"},"here"),", if the validation requires a value, simply add"," ",r.a.createElement("code",{className:"highlighter-rouge"},"(<value>)")," right after the name of the validation."),r.a.createElement("h2",null,"Enum Declaration"),r.a.createElement("hr",null),r.a.createElement("div",{className:"highlighter-rouge"},r.a.createElement("code",{className:"highlight"},r.a.createElement("pre",null,"enum <enum name> { ",r.a.createElement("br",null),"\xa0\xa0<enum values> ",r.a.createElement("br",null),"}"))),r.a.createElement("ul",{className:"options"},r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<enum name>")," is the name of the enum,")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<enum values>")," the comma separated values in uppercase"))),r.a.createElement("p",null,"Full documentation with possible options can be found here"," ",r.a.createElement("a",{href:"https://www.jhipster.tech/jdl/enums",target:"_blank",rel:"noopener noreferrer"},"here")),r.a.createElement("h2",null,"Relationship Declaration"),r.a.createElement("hr",null),r.a.createElement("div",{className:"highlighter-rouge"},r.a.createElement("pre",{className:"highlight"},"relationship <type> {",r.a.createElement("br",null),"\xa0\xa0<from entity>[{<relationship name>}]",r.a.createElement("br",null),"\xa0\xa0to",r.a.createElement("br",null),"\xa0\xa0<to entity>[{<relationship name>}]",r.a.createElement("br",null),"}")),r.a.createElement("ul",{className:"options"},r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<type>")," is the type of your relationship (OneToMany | ManyToOne | OneToOne | ManyToMany)")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<from entity>")," is the name of the entity owner of the relationship,")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<to entity>")," is the name of the entity where the relationship goes to,")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"<relationship name>")," ","is the name of the relationship in the entity."))),r.a.createElement("p",null,"Full documentation with possible options can be found here"," ",r.a.createElement("a",{href:"https://www.jhipster.tech/jdl/relationships",target:"_blank",rel:"noopener noreferrer"},"here")),r.a.createElement("h2",null,"Option Declaration"),r.a.createElement("hr",null),r.a.createElement("p",null,"It is possible to declare some of the supported options via JDL, supported options are:"),r.a.createElement("ul",{className:"options"},r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"paginate")," enable pagination for the entity with pager | pagination | infinite-scroll")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"service")," enable service layer for the entity with serviceClass | serviceImpl")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"dto")," enable DTO for the entity with Mapstruct")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"skipClient")," skip client side code for entity")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"skipServer")," skip server side code for entity")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"angularSuffix")," add a suffix to angular route names")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"microservice")," specify the app name of entity from another microservice")),r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("code",{className:"highlighter-rouge"},"search")," specify search option for entity from another microservice"))),r.a.createElement("p",null,"Full documentation with possible options can be found here"," ",r.a.createElement("a",{href:"https://www.jhipster.tech/jdl/options",target:"_blank",rel:"noopener noreferrer"},"here")),r.a.createElement("p",null,"Refer"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.jhipster.tech/jdl/"},"JDL")," ","documentation for more details.")))},ie=n(157),ce=n.n(ie),se=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"About"),r.a.createElement("p",null,"Hello, this is JDL-Studio, a tool for drawing"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.jhipster.tech/"},"JHipster")," ","JDL diagrams based on the"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.jhipster.tech//jdl"},"JDL syntax"),"."," "),r.a.createElement("p",null,"Try and edit the code on the left and watch the diagram change. Any changes are saved to the browser's ",r.a.createElement("i",null,"localStorage"),", so your diagram should be here the next time, (but no guarantees). If you want persistent storage, sign in with your JHipster Online account to save the JDL."),r.a.createElement("p",null,"Created by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://deepu.tech"},"Deepu KS")," ","and hosted on"," ",r.a.createElement("a",{href:"https://github.com/jhipster/jdl-studio",target:"_blank",rel:"noopener noreferrer"},"GitHub"),"."),r.a.createElement("p",null,"JDL-Studio was made possible by the cool project"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/skanaar/nomnoml"},"nomnoml")," ","by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/skanaar"},"Daniel Kallin")," ","."),r.a.createElement("h2",null,"Interaction"),r.a.createElement("hr",null),r.a.createElement("p",null,"The canvas can be panned and zoomed by dragging and scrolling in the right hand third of the canvas."),r.a.createElement("img",{className:"invert",src:ce.a,alt:"interaction tutorial"}),r.a.createElement("p",null,"Downloaded image files will be given the filename in the"," ",r.a.createElement("kbd",null,"#title")," directive."),r.a.createElement("p",null,"The editor supports a subset of ",r.a.createElement("i",null,"Sublime Text's")," ",r.a.createElement("a",{href:"https://codemirror.net/demo/sublime.html",target:"_blank",rel:"noopener noreferrer"},"keymappings"),". Hit ",r.a.createElement("code",null,"Ctrl-Space")," for auto suggestions."),r.a.createElement("h2",null,"Examples"),r.a.createElement("hr",null),r.a.createElement("p",null,"Refer"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.jhipster.tech/jdl"},"JDL")," ","documentation for examples."),r.a.createElement("h2",null,"Usage"),r.a.createElement("hr",null),r.a.createElement("p",null,"Refer"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://www.jhipster.tech/jdl"},"JDL")," ","documentation for more details."),r.a.createElement("label",null,"Set font"),r.a.createElement("code",null,"#font: Times"),r.a.createElement("label",null,"Layout the diagram really tight"),r.a.createElement("code",null,"#fontSize: 8"),r.a.createElement("br",null),r.a.createElement("code",null,"#spacing: 12"),r.a.createElement("br",null),r.a.createElement("code",null,"#padding: 3"),r.a.createElement("h2",null,"Directives"),r.a.createElement("hr",null),r.a.createElement("p",null,"The rendered image style can be customized by setting these directives along with the JDL code. There should not be any empty space before a directive."),r.a.createElement("code",null,"#arrowSize: 1"),r.a.createElement("br",null),r.a.createElement("code",null,"#bendSize: 0.3"),r.a.createElement("br",null),r.a.createElement("code",null,"#direction: down | right"),r.a.createElement("br",null),r.a.createElement("code",null,"#gutter: 5"),r.a.createElement("br",null),r.a.createElement("code",null,"#edgeMargin: 0"),r.a.createElement("br",null),r.a.createElement("code",null,"#edges: hard | rounded"),r.a.createElement("br",null),r.a.createElement("code",null,"#background: transparent"),r.a.createElement("br",null),r.a.createElement("code",null,"#fill: #eee8d5; #fdf6e3"),r.a.createElement("br",null),r.a.createElement("code",null,"#fillArrows: false"),r.a.createElement("br",null),r.a.createElement("code",null,"#font: Calibri"),r.a.createElement("br",null),r.a.createElement("code",null,"#fontSize: 12"),r.a.createElement("br",null),r.a.createElement("code",null,"#leading: 1.25"),r.a.createElement("br",null),r.a.createElement("code",null,"#lineWidth: 3"),r.a.createElement("br",null),r.a.createElement("code",null,"#padding: 8"),r.a.createElement("br",null),r.a.createElement("code",null,"#spacing: 40"),r.a.createElement("br",null),r.a.createElement("code",null,"#stroke: #33322E"),r.a.createElement("br",null),r.a.createElement("code",null,"#title: filename"),r.a.createElement("br",null),r.a.createElement("code",null,"#zoom: 1"),r.a.createElement("br",null),r.a.createElement("code",null,"#acyclicer: greedy"),r.a.createElement("br",null),r.a.createElement("code",null,"#ranker: network-simplex | tight-tree | longest-path"),r.a.createElement("br",null)))};var ue=Object(i.b)((function(e){var t=e.studio;return{sidebarId:t.sidebarId,sidebarVisible:t.sidebarVisible,isLightMode:t.isLightMode}}),null)((function(e){var t=e.sidebarId,n=e.sidebarVisible,a=e.isLightMode;return r.a.createElement("div",{id:"sidebar",className:"sidebar ".concat(n?"visible":""," ").concat(a?"light-theme":"dark-theme")},"reference"===t?r.a.createElement(oe,null):r.a.createElement(se,null))})),me=n(11),de=n(5),pe=n.n(de),he=n(158),fe=n.n(he),ge=n(46),Ee=(n(174),function(e){var t=e.open,n=e.className,a=void 0===n?"":n;return r.a.createElement(ge.a,{open:t,modal:!0,closeOnDocumentClick:!0,className:a},(function(e){return r.a.createElement("div",{className:"".concat(a," modal")},r.a.createElement("div",{className:"header"},"Warning!"),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"You are using an experimental beta version of JDL Studio. Please use the stable version at"," ",r.a.createElement("a",{href:"https://start.jhipster.tech/jdl-studio/"},"https://start.jhipster.tech/jdl-studio/")," ","for more features and persistent storage")),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"button",onClick:e},"It's OK")))}))}),ve=function(e){var t=e.open,n=e.closeModal,a=e.discard,l=e.className,o=void 0===l?"":l;return r.a.createElement(ge.a,{open:t,modal:!0,closeOnDocumentClick:!1,onClose:n,className:o},r.a.createElement("div",{className:"".concat(o," modal")},r.a.createElement("div",{className:"header"},"Discard"),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Do you want to discard current diagram and load the sample? This will overwrite local storage as well")),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"button",onClick:function(){n(),a()}},"Yes"),r.a.createElement("button",{className:"button",onClick:n},"No"))))},be=function(e){var t=e.open,n=e.closeModal,l=e.saveJDL,o=e.className,i=void 0===o?"":o,c=Object(a.useState)(""),s=Object(me.a)(c,2),u=s[0],m=s[1];return r.a.createElement(ge.a,{open:t,modal:!0,closeOnDocumentClick:!1,onClose:n,className:i},r.a.createElement("div",{className:"".concat(i," modal")},r.a.createElement("div",{className:"header"},"Save a new JDL Model"),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Please give a name to your new JDL Model"),r.a.createElement("input",{className:"upload",placeholder:"JDL name",type:"input",id:"jdlName",value:u,onChange:function(e){m(e.target.value)}})),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"button",onClick:function(){n(),l(u)}},"Save"),r.a.createElement("button",{className:"button",onClick:n},"Dismiss"))))},ye=function(e){var t=e.open,n=e.closeModal,l=e.setCode,o=e.className,i=void 0===o?"":o,c=Object(a.useState)(null),s=Object(me.a)(c,2),u=s[0],m=s[1];return r.a.createElement(ge.a,{open:t,modal:!0,closeOnDocumentClick:!1,onClose:n,className:i},r.a.createElement("div",{className:"".concat(i," modal")},r.a.createElement("div",{className:"header"},"Import JDL"),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Select a ",r.a.createElement("code",null,".jh")," or ",r.a.createElement("code",null,".jdl")," file"),r.a.createElement("input",{className:"upload",accept:".jh,.jdl",type:"file",id:"jdlFileInput",onChange:function(e){m(e.target.files[0])}})),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"button",onClick:function(){n(),function(e,t){if(e)if(e.type.match("text.*")||e.name.endsWith(".jh")||e.name.endsWith(".jdl")){var n=new FileReader;n.onload=function(n){if(n&&n.target){var a=n.target.result;console.log("Got the file name: ".concat(e.name," type: ").concat(e.type," size: ").concat(e.size," bytes")),t(a)}},n.readAsText(e)}else alert(e.name+" is not a valid JDL or text file.");else alert("Failed to load file");ga("send","event","JDL File","upload","JDL File upload"),ga("jdlTracker.send","event","JDL File","upload","JDL File upload")}(u,l)}},"Import"),r.a.createElement("button",{className:"button",onClick:n},"Dismiss"))))};var ke={setJDL:q,loadJdl:function(){return function(){var e=Object(A.a)(J.a.mark((function e(t,n){var a,r,l,o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n().jhOnline,r=a.jdlId){e.next=4;break}return te("JDL not set",t),e.abrupt("return");case 4:if(!(l=_())){e.next=31;break}return e.prev=6,e.next=9,t(Z(!1));case 9:return e.next=11,fetch("".concat("","/api/jdl/").concat(r),l);case 11:return o=e.sent,e.next=14,o.json();case 14:if(i=e.sent,!o.ok){e.next=23;break}if(!i.content){e.next=21;break}return e.next=19,t(D(i.content));case 19:Q(r),t(Z(!1));case 21:e.next=24;break;case 23:te("".concat(o.statusText,": ").concat(i.detail),t);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(6),te(e.t0,t);case 29:e.next=32;break;case 31:console.log("Auth token not found");case 32:case"end":return e.stop()}}),e,null,[[6,26]])})));return function(t,n){return e.apply(this,arguments)}}()},updateJDL:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=Object(A.a)(J.a.mark((function n(a,r){var l,o,i,c,s,m,d,p,h,f;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=r(),o=l.studio.code,!(i=_())){n.next=38;break}return n.prev=4,n.next=7,a(Z(!1));case 7:if(!t){n.next=18;break}if(c=l.jhOnline,s=c.jdlId,m=c.jdls,!(d=m.filter((function(e){return s===e.id})))||!d[0]){n.next=16;break}return p=d[0].name,n.next=14,fetch("".concat("","/api/jdl/").concat(s),Object(u.a)(Object(u.a)({},i),{},{method:"PUT",body:JSON.stringify({name:p,content:o})}));case 14:n.sent.ok?(Q(s),a(Z(!1))):ne("Error from PUT request",a);case 16:n.next=31;break;case 18:return n.next=20,fetch("".concat("","/api/jdl"),Object(u.a)(Object(u.a)({},i),{},{method:"POST",body:JSON.stringify({name:e,content:o})}));case 20:if(!(h=n.sent).ok){n.next=30;break}return n.next=24,h.json();case 24:f=n.sent,Q(f.id),a(Z(!1)),a(X()),n.next=31;break;case 30:ne("Error from POST request",a);case 31:n.next=36;break;case 33:n.prev=33,n.t0=n.catch(4),ne(n.t0,a);case 36:n.next=39;break;case 38:console.log("Auth token not found");case 39:case"end":return n.stop()}}),n,null,[[4,33]])})));return function(e,t){return n.apply(this,arguments)}}()},setSidebar:function(e){return{type:E,data:e}},setCode:D,toggleLightMode:function(){return{type:v}},toggleRanker:function(){return{type:b}},toggleDirection:function(){return{type:y}},initAuthentication:function(){return function(){var e=Object(A.a)(J.a.mark((function e(t){var n,a,r,l;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=_())){e.next=17;break}return e.prev=2,e.next=5,fetch("".concat("","/api/account"),n);case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,a.ok?(t(H(!0,r.login)),t(X()),""!==(l=K())&&t(q(l))):$("".concat(a.statusText,": ").concat(r.detail),t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),$(e.t0,t);case 15:e.next=18;break;case 17:console.log("Auth token not found");case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()}},we=Object(i.b)((function(e){var t=e.studio,n=e.jhOnline;return{code:t.code,jhOnline:n,isLightMode:t.isLightMode,ranker:t.ranker,direction:t.direction}}),ke)((function(e){var t=e.code,n=e.initAuthentication,l=e.jhOnline,o=e.isLightMode,i=e.ranker,c=e.direction,s=e.setCode,u=e.setJDL,m=e.loadJdl,p=e.updateJDL,h=e.setSidebar,f=e.toggleLightMode,g=e.toggleRanker,E=e.toggleDirection,v=Object(a.useState)(!1),b=Object(me.a)(v,2),y=b[0],k=b[1],w=Object(a.useState)(!1),j=Object(me.a)(w,2),O=j[0],N=j[1],T=Object(a.useState)(!1),L=Object(me.a)(T,2),D=L[0],S=L[1],x=Object(a.useState)(""),M=Object(me.a)(x,2),C=M[0],J=M[1];Object(a.useEffect)((function(){l.authenticated||n()}),[l.authenticated,n]),Object(a.useEffect)((function(){l.jdlId&&m()}),[l.jdlId,m]);var A=function(e){return function(){h(e)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"".concat(o?"light-theme":"dark-theme")},r.a.createElement("div",{className:"tools left"},r.a.createElement("a",{href:"https://www.jhipster.tech/",title:"JHipster website",target:"_blank",rel:"noopener noreferrer",className:"logo-img"},r.a.createElement("img",{className:"jhi-logo",src:fe.a,alt:"JHipster logo"})),r.a.createElement("a",{className:"logo link",onClick:A("about"),title:"About JDL-Studio"},"JDL-Studio")),r.a.createElement("div",{className:"tools right"},r.a.createElement("div",{className:"tools-inner"},r.a.createElement("a",{onClick:f,title:"Toggle theme",className:"link"},o?r.a.createElement(pe.a,{name:"night"}):r.a.createElement(pe.a,{name:"sun"})),r.a.createElement("a",{onClick:g,title:"Cycle graph ranker strategy [current: ".concat(i,"]"),className:"link"},"longest-path"===i?r.a.createElement(pe.a,{name:"bricks"}):r.a.createElement(pe.a,{name:"grid-alt"})),r.a.createElement("a",{onClick:E,title:"Cycle graph direction [current: ".concat(c,"]"),className:"link"},"down"===c?r.a.createElement(pe.a,{name:"arrow-right"}):r.a.createElement(pe.a,{name:"arrow-down"})),r.a.createElement("span",{className:"seperator"},r.a.createElement("i",null,"|")),r.a.createElement("select",{className:"template-select",onChange:function(e){J(e.target.value),e.target.value&&S(!0)}},r.a.createElement("option",{value:""},"<Select template>"),d.map((function(e){return r.a.createElement("option",{value:e.key,key:e.key},e.key)})))),r.a.createElement("div",{className:"tools-inner"},l.insideJhOnline&&!l.authenticated?r.a.createElement("a",{id:"signin",className:"link special",onClick:I,title:"Sign in"},"Please sign in for more features!"):null,l.insideJhOnline||l.authenticated?null:r.a.createElement("a",{id:"signin",className:"special",href:"https://start.jhipster.tech/jdl-studio/",title:"Go to stable JDL Studio with more features"},"Go to stable JDL Studio"),l.authenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{title:"Logged in as",className:"special"},l.username),r.a.createElement("select",{className:"jdl-select",value:l.jdlId,onChange:function(e){u(e.target.value),Q(e.target.value)}},r.a.createElement("option",{value:""},"<Create new JDL Model>"),l.jdls.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),l.startLoadingFlag?r.a.createElement("a",null,r.a.createElement(pe.a,{name:"reload"})):r.a.createElement("a",{title:"Save JDL",className:"link",onClick:function(){l.jdlId?p(l.jdlId,!0):N(!0)}},r.a.createElement(pe.a,{name:"save"})),r.a.createElement("a",{onClick:z,className:"link",title:"Manage JDLs"},r.a.createElement(pe.a,{name:"cog"}))):null,l.insideJhOnline?r.a.createElement("a",{className:"link",onClick:I,title:"Go to the main JHipster Online page"},r.a.createElement(pe.a,{name:"home"})):null,r.a.createElement("span",{className:"seperator"},r.a.createElement("i",null,"|")),r.a.createElement("a",{id:"savebutton",download:"app-jdl.png",className:"link",title:"Download snapshot of this diagram",onClick:R},r.a.createElement(pe.a,{name:"camera"})),r.a.createElement("a",{id:"saveTextbutton",download:"app.jdl",title:"Download this JDL source",className:"link",onClick:function(e){!function(e,t){var n=new Blob([t],{type:"text/plain"});null!==(window.URL||window.webkitURL)&&(e.currentTarget.href=window.URL.createObjectURL(n)),ga("send","event","JDL File","download","JDL File download"),ga("jdlTracker.send","event","JDL File","download","JDL File download")}(e,t)}},r.a.createElement(pe.a,{name:"download"})),r.a.createElement("a",{id:"uploadbutton",className:"upload-dialog link",title:"Import text file of a JDL",onClick:function(){k(!0)}},r.a.createElement(pe.a,{name:"upload"})),r.a.createElement("a",{onClick:A("about"),title:"About JDL-Studio",className:"link"},r.a.createElement(pe.a,{name:"question-circle"})),r.a.createElement("a",{onClick:A("reference"),title:"Language reference",className:"link"},r.a.createElement(pe.a,{name:"book"})),r.a.createElement("span",{className:"tooltip"})))),r.a.createElement(ye,{open:y,closeModal:function(){k(!1)},setCode:s,className:"".concat(o?"light-theme":"dark-theme")}),r.a.createElement(be,{open:O,closeModal:function(){N(!1)},saveJDL:p,className:"".concat(o?"light-theme":"dark-theme")}),r.a.createElement(ve,{open:D,closeModal:function(){S(!1)},discard:function(){if(C){var e=d.filter((function(e){return e.key===C}))[0].val;s(e)}},className:"".concat(o?"light-theme":"dark-theme")}),r.a.createElement(Ee,{open:!l.insideJhOnline&&!l.authenticated,className:"".concat(o?"light-theme":"dark-theme")}))})),je=n(71),Oe=n(72),Ne=n(162),Te=n(161),Le=n(96),De=n.n(Le),Se=n(44),xe=n.n(Se),Me=n(159),Ce=(n(353),n(354),n(152),n(355),n(356),n(151),n(357),n(6)),Je=n.n(Ce),Ae=/[\w$]+/;Je.a.registerHelper("hint","anyword",(function(e,t){for(var n=t&&t.word||Ae,a=t&&t.range||500,r=e.getCursor(),l=e.getLine(r.line),o=r.ch,i=o;i&&n.test(l.charAt(i-1));)--i;for(var c=i!==o&&l.slice(i,o),s=[],u={},m=new RegExp(n.source,"g"),d=-1;d<=1;d+=2)for(var p=r.line,h=Math.min(Math.max(p+d*a,e.firstLine()),e.lastLine())+d;p!==h;p+=d)for(var f=e.getLine(p),g=void 0;g=m.exec(f);)p===r.line&&g[0]===c||c&&0!==g[0].lastIndexOf(c,0)||Object.prototype.hasOwnProperty.call(u,g[0])||(u[g[0]]=!0,s.push(g[0]));return t&&t.list&&t.list.forEach((function(e){c&&!e.toLowerCase().startsWith(c.toLowerCase())||-1!==s.indexOf(e)||s.push(e)})),{list:s,from:Je.a.Pos(r.line,i),to:Je.a.Pos(r.line,o)}}));var Ie=["application","deployment","entity","enum","relationship","paginate","dto","service","skipClient","skipServer","search","angularSuffix","filter"],ze=["OneToOne","OneToMany","ManyToOne","ManyToMany"],Re=["config","entities"],We=["required","minlength","maxlength","min","max","minbytes","maxbytes","pattern","unique"],Be=["with","all","except","to"],Fe=["pagination","pager","infinite-scroll"],Pe=["mapstruct"],Ge=["serviceClass","serviceImpl"],Ue=["ElasticSearch"],Ye=["microservice","gateway","monolith","uaa","reactive","reactive-micro"],Ze=["String","Integer","Long","BigDecimal","Float","Double","Boolean","LocalDate","ZonedDateTime","Instant","Blob","AnyBlob","ImageBlob"],qe=["baseName","applicationType","authenticationType","buildTool","cacheProvider","clientFramework","clientPackageManager","databaseType","devDatabaseType","enableHibernateCache","enableSwaggerCodegen","enableTranslation","jhiPrefix","languages","messageBroker","nativeLanguage","packageName","prodDatabaseType","searchEngine","serviceDiscoveryType","skipClient","skipServer","serverPort","skipUserManagement","testFrameworks","uaaBaseName","useSass","clientTheme","websocket"],Ve=["deploymentType","gatewayType","monitoring","directoryPath","appsFolders","clusteredDbApps","consoleOptions","serviceDiscoveryType","dockerRepositoryName","dockerPushCommand","kubernetesNamespace","kubernetesServiceType","ingressDomain","istio","istioRoute","enableRancherLoadBalancing","openshiftNamespace","storageType"],He=["en","no","true","sql","mongodb","couchbase","cassandra","h2Disk","h2Memory","mysql","mariadb","postgresql","oracle","mssql","gatling","cucumber","protractor","angularX","react","eureka","consul","jwt","oauth2","session","ehcache","hazelcast","infinispan","memcached","maven","gradle","docker-compose","kubernetes","openshift","rancher-compose","zuul","traefik","prometheus","elk","curator","zipkin","LoadBalancer","NodePort","Ingress","manualInjection","autoInjection","ephemeral","persistent","default"];Je.a.defineMode("jdl",(function(){var e={};function t(t,n){for(var a=0;a<n.length;a++)e[n[a]]=t}function n(t,n){if(t.eatSpace())return null;var a=t.sol(),r=t.next(),l="{ } |".split(" ");if("\\"===r)return t.next(),null;if(a&&"#"===r)return t.skipToEnd(),"meta";var o=t.string.charAt(t.start-1),i=t.string.trim().charAt(0);if(t.match("//")||"/"===r||o+r==="/*"||"*"===i)return t.skipToEnd(),"comment";if("+"===r||"="===r)return"operator";if("-"===r)return t.eat("-"),t.eatWhile(/\w/),"attribute";if(l.some((function(e){return t.eat(e)})))return"bracket";t.eatWhile(/[\w-]/);var c=t.current();return"="===t.peek()&&/\w+/.test(c)?"def":e.hasOwnProperty(c)?e[c]:(/[A-Z*]/.test(r)||"/"!==o&&"*"===r||"*"===o&&"/"!==r)&&(t.eatWhile(/[a-z_]/),t.eol()||!/\s[{,]/.test(t.peek()))?"def":null}function a(e,t){return(t.tokens[0]||n)(e,t)}return t("relationship",ze),t("relationship",Re),t("keyword",Ie),t("attribute",qe),t("attribute",Ve),t("attribute",Ze),t("qualifier",We),t("keyword",Ye),t("special",Be.concat(Fe,Ge,Pe,Ue,He)),{startState:function(){return{tokens:[]}},token:function(e,t){return a(e,t)},lineComment:"//",fold:"brace"}}));var Xe=Ie.concat(["application {\n  config {\n\n  }\n}","entity <name> {\n\n}","enum <name> {\n\n}","relationship OneToMany {\n\n}","relationship ManyToMany {\n\n}","relationship ManyToOne {\n\n}","relationship OneToOne {\n\n}"],Ze,ze,We,Be,Fe,Pe,Ge,Ye,qe,Ve,He);Je.a.commands.autocomplete=function(e){e.showHint({hint:Je.a.hint.anyword,list:Xe})};n(358),n(359);var Qe,Ke=function(){function e(t,n,a){var r=this;Object(je.a)(this,e),this.onChange=n,this.offset={x:0,y:0},this.zoomLevel=0,this.superSampling=window.devicePixelRatio||1;var l=!1;var o=function(){l=!1,t.style.width="40%"};t.addEventListener("mousedown",(function(e){t.style.width="100%",l=xe.a.skanaar.vector.diff({x:e.pageX,y:e.pageY},r.offset)})),t.addEventListener("mouseup",o),t.addEventListener("mouseleave",o),t.addEventListener("wheel",a((function(e){r.zoomLevel=Math.min(10,r.zoomLevel-(e.deltaY<0?-1:1)),n()}),50),{passive:!0}),t.addEventListener("mousemove",a((function(e){!1!==l&&(r.offset=xe.a.skanaar.vector.diff({x:e.pageX,y:e.pageY},l),n())}),50),{passive:!0})}return Object(Oe.a)(e,[{key:"positionCanvas",value:function(e){var t=window,n=e.width/this.superSampling,a=e.height/this.superSampling;e.style.top=300*(1-a/t.innerHeight)+this.offset.y+"px",e.style.left=150+(t.innerWidth-n)/2+this.offset.x+"px",e.style.width=n+"px",e.style.height=a+"px"}},{key:"zoom",value:function(){return this.superSampling*Math.exp(this.zoomLevel/10)}},{key:"magnify",value:function(e){this.zoomLevel=Math.min(10,this.zoomLevel+e),this.onChange()}},{key:"reset",value:function(){this.zoomLevel=1,this.offset={x:0,y:0},this.onChange()}}]),e}(),_e=n(21),$e=n(160);function et(e){return"#"!==e[0]?e.replace(/\/\/[^\n\r]*/gm,""):""}function tt(e){return"#"===e.text[0]}function nt(e){var t=e.split("\n").map((function(e,t){return{text:e.trim(),index:t}})),n=t.filter(tt).map((function(e){return e.text})).join("\n").trim(),a=t.map((function(e){return e.text})).map(et).join("\n").trim(),r=Object($e.parse)(a),l=[],o=r.entities.map((function(e){return e.name})),i=Object(_e.a)(o);if(r.applications.length>0&&(l=r.applications.map((function(e){var t="".concat(e.config.baseName," (").concat(e.config.applicationType,")"),n=at(r,i,function(e,t,n,a,r){var l=e;l.includes("*")&&(l=[].concat(Object(_e.a)(l),Object(_e.a)(r)),n&&Object.entries(n).forEach((function(e){var t=Object(me.a)(e,2),n=t[0],r=t[1];n!==a&&(l=l.filter((function(e){return!r.list.includes(e)})))})));0!==t.length&&(l=l.filter((function(e){return!t.includes(e)})));return l}(e.entities.entityList,e.entities.excluded,r.options.microservice,e.config.baseName,o)),a=Object(me.a)(n,2),l=a[0],c=a[1];return i=c,{name:t,type:Qe.package,renderType:"<package>",description:"".concat(e.config.clientFramework?"Client: ".concat(e.config.clientFramework,", "):"","Auth: ").concat(e.config.authenticationType,", DB: ").concat(e.config.prodDatabaseType),children:l}}))),i.length>0){var c=at(r,i,i),s=Object(me.a)(c,1)[0];l=[].concat(Object(_e.a)(l),Object(_e.a)(s))}var u=l.map(rt);return"".concat(n,"\n").concat(u.join("\n"),"\n")}function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=[],r=e.enums.map((function(e){return e.name})),l=[];return e.entities.forEach((function(e){n.length>0&&!n.includes(e.name)||(a.push({name:e.name,type:Qe.entity,renderType:"",children:e.body.map((function(t){return r.includes(t.type)&&(l.push(t.type),a.push({name:"[".concat(e.name,"] --\x3e [").concat(t.type,"]"),type:Qe.relation,renderType:""})),{name:"".concat(t.name," : ").concat(t.type).concat(1===t.validations.filter((function(e){return"required"===e.key})).length?"*":""),type:Qe.field,renderType:""}}))}),t=t.filter((function(t){return t!==e.name})))})),e.enums.forEach((function(e){l.includes(e.name)&&a.push({name:"".concat(e.name),type:Qe.enum,renderType:"<reference>",description:"<<enum>>",children:e.values.map((function(e){return{name:"".concat(e.key),type:Qe.field,renderType:""}}))})})),e.relationships.forEach((function(e){(!(n.length>0)||[].concat(Object(_e.a)(n),["User"]).includes(e.from.name)&&[].concat(Object(_e.a)(n),["User"]).includes(e.to.name))&&a.push({name:"[".concat(e.from.name,"] ").concat(lt(e.cardinality)," [").concat(e.to.name,"]"),type:Qe.relation,renderType:""})})),[a,t]}function rt(e){var t;switch(e.type){case Qe.field:case Qe.relation:return"".concat(e.name,"\n");default:return"[".concat(e.renderType).concat(e.name,"|").concat(e.description?"".concat(e.description,"|"):"","\n").concat(null===(t=e.children)||void 0===t?void 0:t.map(rt).join("\n"),"\n]")}}function lt(e){switch(e){case"one-to-many":case"OneToMany":return"(1..*) -o";case"OneToOne":case"one-to-one":return"(1..1) -";case"ManyToOne":case"many-to-one":return"(*..1) o-";case"ManyToMany":case"many-to-many":return"(*..*) o-o";default:return"(1..*) ->"}}!function(e){e[e.package=0]="package",e[e.entity=1]="entity",e[e.enum=2]="enum",e[e.relation=3]="relation",e[e.field=4]="field"}(Qe||(Qe={}));var ot=function(e){var t=e.classToggler,n=e.panner;return r.a.createElement("div",{className:"canvas-tools",id:"canvas-tools",onMouseEnter:t(!0),onMouseLeave:t(!1)},r.a.createElement("a",{onClick:function(){n.magnify(2)},title:"Zoom in",className:"link"},r.a.createElement(pe.a,{name:"zoom-in"})),r.a.createElement("a",{onClick:function(){n.reset()},title:"Reset viewport",className:"link"},r.a.createElement(pe.a,{name:"frame-expand"})),r.a.createElement("a",{onClick:function(){n.magnify(-2)},title:"Zoom out",className:"link"},r.a.createElement(pe.a,{name:"zoom-out"})))},it="\n#arrowSize: 0.5\n#lineWidth: 2\n#spacing: 40\n#title: jhipster-jdl\n#zoom: 0.8\n\n",ct=function(e){Object(Ne.a)(n,e);var t=Object(Te.a)(n);function n(){var e;Object(je.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).cmOptions={lineNumbers:!0,mode:"jdl",matchBrackets:!0,autoCloseBrackets:!0,keyMap:"sublime",extraKeys:{"Ctrl-Space":"autocomplete"}},e.panner=void 0,e.editorRef=r.a.createRef(),e.canvasRef=r.a.createRef(),e.canvasPannerRef=r.a.createRef(),e.getDefaultDirectives=function(e){var t=e.isLightMode,n=e.ranker,a=e.direction,r=t?it:"\n#stroke: #aaaaaa\n#fill: #21252b;#002b36;\n\n"+it;return r+="#ranker: ".concat(n,"\n#direction: ").concat(a,"\n")},e.renderJDL=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.code;try{var n=e.canvasRef.current,a=t?nt(t):"[No JDL content, start writing]",r=e.getDefaultDirectives(e.props)+a,l=xe.a.draw(n,r,e.panner.zoom());B(l.config.title),e.panner.positionCanvas(n)}catch(o){console.log(o),e.handleError(o)}},e.updateCode=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.code;e.props.setDefaultError(),e.renderJDL(t),e.props.setCode(t)},e.handleError=function(t){var n="",a=0;t.message&&e.editorRef.current?(a=40+parseFloat(window.getComputedStyle(e.editorRef.current.editor.getWrapperElement()).getPropertyValue("line-height"))*e.findLine(t.message),n=t.message):n="An error occurred, look at the console";e.props.setError({lineMarkerTop:a,hasError:!0,errorTooltip:n})},e.findLine=function(e){var t=/at line: ([0-9]+),/g.exec(e);return t&&t[1]?parseInt(t[1]):0},e.classToggler=function(t){return function(){e.props.setCanvasMode(t)}},e.getClassNames=function(e,t){return"".concat(e?"light-theme":"dark-theme"," ").concat(t?"canvas-mode":"")},e.editorBeforeChange=function(t,n,a){return e.props.setCode(a)},e.editorOnChange=function(t,n,a){return e.updateCode(a)},e}return Object(Oe.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("hashchange",this.props.reloadStorage),window.addEventListener("resize",De()((function(){return e.renderJDL()}),750,{leading:!0})),window.addEventListener("keydown",W),this.canvasPannerRef.current&&(this.panner=new Ke(this.canvasPannerRef.current,(function(){return e.renderJDL()}),De.a)),this.updateCode()}},{key:"componentDidUpdate",value:function(e){e.isLightMode===this.props.isLightMode&&e.direction===this.props.direction&&e.ranker===this.props.ranker||this.renderJDL()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("hashchange",this.props.reloadStorage),window.removeEventListener("keydown",W)}},{key:"render",value:function(){var e=this.props,t=e.isCanvasMode,n=e.code,a=e.error,l=e.isLightMode;return r.a.createElement("div",{className:"studio ".concat(this.getClassNames(l,t))},r.a.createElement("div",{className:"line-numbers ".concat(a.hasError?"error":"")}),r.a.createElement("div",{className:"line-marker",style:{top:a.lineMarkerTop}}),r.a.createElement(Me.Controlled,{ref:this.editorRef,className:"code-mirror-editor",value:n,onBeforeChange:this.editorBeforeChange,onChange:this.editorOnChange,options:Object(u.a)(Object(u.a)({},this.cmOptions),{},{theme:"solarized ".concat(l?"light":"dark")})}),r.a.createElement("canvas",{id:"canvas",ref:this.canvasRef}),r.a.createElement("span",{className:"error-tooltip"},a.errorTooltip),r.a.createElement(ot,{panner:this.panner,classToggler:this.classToggler}),r.a.createElement("div",{className:"canvas-panner",ref:this.canvasPannerRef,onMouseEnter:this.classToggler(!0),onMouseLeave:this.classToggler(!1)}))}}]),n}(r.a.PureComponent),st={setCode:D,setError:function(e){return{type:h,data:e}},setDefaultError:function(){return{type:h,data:k}},reloadStorage:function(){return function(e){O=x(m),e(D(O.read())),e(S(O.isReadonly))}},setCanvasMode:function(e){return{type:g,data:e}}},ut=Object(i.b)((function(e){var t=e.studio;return{code:t.code,error:t.error,isCanvasMode:t.isCanvasMode,isLightMode:t.isLightMode,ranker:t.ranker,direction:t.direction}}),st)(ct);n(381);var mt=function(){return r.a.createElement("div",{className:"wrap app"},r.a.createElement(we,null),r.a.createElement(ut,null),r.a.createElement(ue,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(382);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:le},r.a.createElement(mt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.f6dbfda9.chunk.js.map